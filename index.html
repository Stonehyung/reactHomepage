<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <link href="style.css" rel="stylesheet">
   <!--css파일과 연동된 상태, rel : 현재문서와 외부 리소스와의 연관관계, "stylesheet": stylesheet로 사용할 외부 리소스를 가져옴  -->
     
</head>
<body>
 <div class ="wrap">
 <h1>
    <span class="material-icons">face</span>
 </h1>
 <p id ="dynamic" class="lg-text ">

 </p>
     
 <p class = "sm-text">재미로 알아보는 관상테스트</p>
 </div>   
    
 <script >
     
    let target = document.querySelector("#dynamic");
     
    function randomString(){
    let arrayString = ["당신은 왕이 될 관상인가?","노비가 될 관상인가?","당신의 관상을 통해 미래를 예측하세요","당신의 지인들의 관상을 파악해보세요"]
    let selectString = arrayString[Math.floor(Math.random()*arrayString.length)]
    //Math.random을 통해 0~1사이의 난수를 무작위로 생성 
    //Math.floor를 통해 주어진 숫자와 같거나 더 작은 정수중에서 가장 큰 값을 반환
    //Math.floor(2.5) = 2, Math.floor(-2.5)=-3
    let selectStringArray = selectString.split("") // 단어 하나하나가 쪼개져서 배열로 저장하게 된다.
    return selectStringArray;
    }
    
     
function resetTyping(){
    target.textContent=""
    dynamic(randomString())
}
    
     //배열의 요소들을 하나하나씩 출력하도록 작성
function dynamic(randomArr){
    if(randomArr.length > 0){
        target.textContent += randomArr.shift();
       //배열의 하나하나 요소들을 shift()를 이용하여 배열에서 밀어내고 밀어낸 값을 textcontent에 나타낸다
        //setTimeout을 이용해 재귀함수를 이용해 0.08초 이후에  다시 dynamic 함수를 호출한다.
        setTimeout(()=>{
            dynamic(randomArr);
        },80);
    }
    else{
        setTimeout(resetTyping, 1500);// 1.5초 이후에 resetTyping 함수를 실행
    }
}
     
dynamic(randomString()); 
    
    
     //커서 깜빡이는효과
function blink(){
    target.classList.toggle("active");
}
setInterval(blink,500);   //0.5초마다 blink 함수를 실행
 </script>
</body>
</html>


